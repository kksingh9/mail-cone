{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GNS\\\\Desktop\\\\gmail-clone\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n//import logo from './logo.svg';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './App.css';\nimport AuthForm from './component/auth/AuthForm';\n//import Mailbox from './pages/Mailbox';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Routerer from './Routerer/Routerer';\nimport { inboxmailSliceActions } from \"./store/inboxmail\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet initial = true;\nfunction App() {\n  _s();\n  const isLoggedIn = useSelector(state => state.auth.isAuthenticated);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    let setint = setInterval(() => {\n      const fetchData = async () => {\n        try {\n          const response = await fetch(\"https://mail-box-43bb3-default-rtdb.firebaseio.com/mail.json\");\n          const data = await response.json();\n          let newArray = [];\n          for (let key in data) {\n            newArray.push({\n              id: key,\n              name: data[key].email,\n              subject: data[key].subject,\n              description: data[key].description,\n              time: data[key].time,\n              localtime: data[key].localtime,\n              read: data[key].read\n            });\n          }\n          dispatch(inboxmailSliceActions.addmail(newArray));\n        } catch (err) {\n          console.log(err.message);\n        }\n      };\n      // if(initial){\n      //   initial=false;\n      //   return;\n      // }\n      fetchData();\n    }, 2000);\n    return () => setInterval(setint);\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [isLoggedIn && /*#__PURE__*/_jsxDEV(Routerer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 22\n      }, this), !isLoggedIn && /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        exact: true,\n        children: /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), !isLoggedIn && /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        children: /*#__PURE__*/_jsxDEV(AuthForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 22\n      }, this), !isLoggedIn && /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        children: /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"g5uETS2fIYXug5OFaym/DvjvmPU=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useSelector","useDispatch","AuthForm","Route","Switch","Redirect","Routerer","inboxmailSliceActions","jsxDEV","_jsxDEV","initial","App","_s","isLoggedIn","state","auth","isAuthenticated","dispatch","setint","setInterval","fetchData","response","fetch","data","json","newArray","key","push","id","name","email","subject","description","time","localtime","read","addmail","err","console","log","message","children","fileName","_jsxFileName","lineNumber","columnNumber","path","exact","to","_c","$RefreshReg$"],"sources":["C:/Users/GNS/Desktop/gmail-clone/src/App.js"],"sourcesContent":["//import logo from './logo.svg';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './App.css';\nimport AuthForm from './component/auth/AuthForm';\n//import Mailbox from './pages/Mailbox';\nimport { Route, Switch , Redirect} from 'react-router-dom';\nimport Routerer from './Routerer/Routerer';\nimport { inboxmailSliceActions } from \"./store/inboxmail\";\n\nlet initial =true;\nfunction App() {\n  const isLoggedIn = useSelector((state) => state.auth.isAuthenticated);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    let setint = setInterval(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(\n          \"https://mail-box-43bb3-default-rtdb.firebaseio.com/mail.json\"\n        );\n        const data = await response.json();\n        let newArray = [];\n        for (let key in data) {\n          newArray.push({\n            id: key,\n            name: data[key].email,\n            subject: data[key].subject,\n            description: data[key].description,\n            time: data[key].time,\n            localtime: data[key].localtime,\n            read:data[key].read,\n          });\n        }\n        dispatch(inboxmailSliceActions.addmail(newArray));\n      } catch (err) {\n        console.log(err.message);\n      }\n    }\n    // if(initial){\n    //   initial=false;\n    //   return;\n    // }\n    fetchData();\n    }, 2000);\n    return () => setInterval(setint);\n  }, [dispatch]);\n  return (\n    <div >\n      <Switch>\n      {isLoggedIn && <Routerer />}\n      {!isLoggedIn && (\n            <Route path=\"/\" exact>\n              <Redirect to=\"/login\" />\n            </Route>\n          )} \n     {!isLoggedIn && <Route path=\"/login\" >\n      <AuthForm />\n      </Route>}\n      \n      {!isLoggedIn && <Route path=\"*\" >\n        <Redirect to=\"/login\" />\n  </Route>}\n     \n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}